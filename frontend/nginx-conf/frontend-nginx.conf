server {
    # Listen on internal HTTPS port 443
    listen 443 ssl;
    server_name frontend_app;

    # --- TLS Configuration ---
    # Using your specified protocols and ciphers for enhanced security
    ssl_protocols TLSv1.3;
    ssl_ciphers 'TLS_AES_256_GCM_SHA384:TLS_CHACHA20_POLY1305_SHA256:HIGH:!aNULL:!kRSA:!SHA1';
    ssl_ecdh_curve X25519:secp384r1;
    
    # Server certificate that this service presents to connecting clients
    ssl_certificate /etc/nginx/certs/frontend_app.crt;
    ssl_certificate_key /etc/nginx/certs/frontend_app.key;

    # --- mTLS Configuration ---
    # Require connecting clients (i.e., the reverse proxy) to present a valid certificate
    ssl_client_certificate /etc/nginx/certs/ca.crt;
    ssl_verify_client on; # Enforce mTLS

    # --- Static File Serving ---
    root /usr/share/nginx/html;
    index index.html;

    location / {
        # Your robust try_files directive for handling requests
        try_files $uri $uri/ =404;
    }
}

